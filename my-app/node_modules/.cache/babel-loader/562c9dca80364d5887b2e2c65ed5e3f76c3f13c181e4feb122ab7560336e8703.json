{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\my-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport \"./ProductPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPage = ({\n  products\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState(null);\n  useEffect(() => {\n    // ✅ Ensure products is always defined (e.g., from localStorage)\n    if (!products || !Array.isArray(products)) {\n      const storedProducts = JSON.parse(localStorage.getItem(\"products\")) || [];\n      products = storedProducts;\n    }\n\n    // ✅ Find the product safely\n    const foundProduct = products.find(p => p.id.toString() === id);\n    setProduct(foundProduct);\n    setLoading(false);\n  }, [id, products]);\n\n  // ✅ Show loading state while fetching\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this);\n  }\n\n  // ✅ If product not found, show error message\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        color: \"red\"\n      },\n      children: \"Product not found!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.img,\n      alt: product.name,\n      className: \"product-image\",\n      onError: e => e.target.src = \"/assets/placeholder.jpg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/\"),\n      children: \"\\u2B05 Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductPage, \"4YDuGyUxTCQKthbPMKeUBW6eQ/c=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductPage;\nexport default ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsxDEV","_jsxDEV","ProductPage","products","_s","id","navigate","loading","setLoading","product","setProduct","Array","isArray","storedProducts","JSON","parse","localStorage","getItem","foundProduct","find","p","toString","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","color","className","name","src","img","alt","onError","e","target","description","onClick","_c","$RefreshReg$"],"sources":["C:/react/my-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport \"./ProductPage.css\";\n\nconst ProductPage = ({ products }) => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState(null);\n\n  useEffect(() => {\n    // ✅ Ensure products is always defined (e.g., from localStorage)\n    if (!products || !Array.isArray(products)) {\n      const storedProducts = JSON.parse(localStorage.getItem(\"products\")) || [];\n      products = storedProducts;\n    }\n\n    // ✅ Find the product safely\n    const foundProduct = products.find((p) => p.id.toString() === id);\n    setProduct(foundProduct);\n    setLoading(false);\n  }, [id, products]);\n\n  // ✅ Show loading state while fetching\n  if (loading) {\n    return <h2 style={{ textAlign: \"center\" }}>Loading...</h2>;\n  }\n\n  // ✅ If product not found, show error message\n  if (!product) {\n    return <h2 style={{ textAlign: \"center\", color: \"red\" }}>Product not found!</h2>;\n  }\n\n  return (\n    <div className=\"product-details\">\n      <h2>{product.name}</h2>\n      <img \n        src={product.img} \n        alt={product.name} \n        className=\"product-image\" \n        onError={(e) => (e.target.src = \"/assets/placeholder.jpg\")} \n      />\n      <p>{product.description}</p>\n      <button onClick={() => navigate(\"/\")}>⬅ Go Back</button>\n    </div>\n  );\n};\n\nexport default ProductPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}